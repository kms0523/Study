# 기저 변환
$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$가 있을 때, $\gamma_i \in V$이기 때문에 $\beta$로 $\gamma$를 표현하면 다음과 같이 계수 $B_i^j$로 표현된다고 하자.
$$ \begin{equation} \gamma_i = B^j_i \beta_j \end{equation} $$

이를 계수 $B_i^j$에 의해 $\beta$가 $\gamma$로 변환된다고 볼 수 있다.

또한, 식(1)에 의해 $[\gamma_i]_\beta = (B_i^1, \cdots, B_i^n)$임으로 다음이 성립한다.
$$ [Id_V]_\gamma^\beta = \bigcup_{i=1}^n [\gamma_i]_\beta = (B_1^1, \cdots, B_1^n, B_2^1 \cdots, B_n^n ) $$

이 떄, $[Id_V]_\gamma^\beta$의 행렬표현 $\mathbf B$을 `기저 변환 행렬(basis change matrix)`이라고 한다.
$$ \mathbf B := \begin{bmatrix} B^1_1 & \cdots & B^1_n \\ \vdots & \ddots &\vdots \\ B^n_1 & \cdots & B^n_n  \end{bmatrix} $$

# 좌표 변환
$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$ 그리고 $v = a^i \beta_i = b^i \gamma_i \in V$가 있다고 하자. 

$v= Id_V(v)$임으로 두 좌표간에는 다음 관계식이 성립한다.
$$ \begin{aligned} & [v]_\gamma = [Id_V]_\beta^\gamma [v]_\beta \\  \Leftrightarrow \enspace & b^i = C^i_j a^j \end{aligned}  $$

$$ \text{Where, } [Id_V]_\beta^\gamma = (C^1_1, \cdots, C^n_1, C^1_2, \cdots, C^n_n) $$

이를 계수 $C^i_j$에 의해 $\beta$에 의한 좌표가 $\gamma$에 의한 좌표로 변환된다고 볼 수 있다.

따라서, $[Id_V]_\beta^\gamma$의 행렬표현 $\mathbf C$를 `좌표 변환 행렬(coordinate change matrix)`이라고 한다.

$$ \mathbf C := \begin{bmatrix} C^1_1 & \cdots & C^1_n \\ \vdots & \ddots &\vdots \\ C^n_1 & \cdots & C^n_n  \end{bmatrix} $$


---

$$ [v]_\gamma = [Id_V]_\beta^\gamma [v]_\beta $$ 




이 때, 기저변환 함수 $P$에 의해 $\beta$가 $\gamma$로 변환되었다고 했을 때, 서로 다른 두 기저가 어떤 관계를 갖는지 알아보자.

$\gamma_i \in V$이기 때문에 $\beta$로 $\gamma$를 표현하면 다음과 같다고 하자.
$$ \gamma_i = P^j_i \beta_j $$


$$ \begin{gathered} \text{Where, } P = \begin{bmatrix} [\gamma_1]_{\beta} & \cdots & [\gamma_n]_{\beta} \end{bmatrix} \\ \gamma = \begin{bmatrix} \gamma_1 \\ \vdots \\ \gamma_n \end{bmatrix}, \quad \beta = \begin{bmatrix} \beta_1 \\ \vdots \\ \beta_n \end{bmatrix} \end{gathered}  $$

행렬 $P^T$에 의해서 $\beta$가 $\gamma$로 바뀌었음으로, $P$를 `기저변환행렬(basis change matrix)`이라고 한다.

$\beta$를 $\gamma$로 바꾸는 기저변환행렬은 항등함수 $Id_V : V \rightarrow V \quad s.t. \quad v \mapsto v$를 $\gamma$와 $\beta$로 행렬표현 한것과 동일하다.
$$ P = [Id_V]_\gamma^\beta $$

### 좌표
이번에는 서로 다른 기저로 표현된 좌표가 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$ 그리고 $v \in V$가 있다고 하자. $v= Id_V(v)$임으로 선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [v]_\gamma = [Id_V]_\beta^\gamma[v]_\beta $$

$[Id_V]_\beta^\gamma$에 의해서 $v$의 $\beta$에 대한 좌표가 $\gamma$에 대한 좌표로 변환 되었음으로, $[Id_V]_\beta^\gamma$를 `좌표변환행렬(coordinate change matrix)`이라고 한다.

$\beta$에 의한 좌표를 $\gamma$에 의한 좌표로 바꾸는 좌표변환행렬은 $\beta$를 $\gamma$로 바꾸는 기저변환행렬의 역행렬이다.
$$ [Id_V]_\beta^\gamma = P^{-1} $$

이는 명제2에서 증명한다.

따라서 서로 다른 기저로 표현된 좌표는 다음과 같은 관계를 만족한다.
$$ [v]_\gamma = P^{-1} [v]_\beta $$
$$ \text{Where, } P \text{ is a change of basis matrix } \beta \rightarrow \gamma $$

#### 명제1
$n$차원 벡터공간 $V/F$와 $V$의 기저 $\beta$가 있을 때, $[Id_V]_\beta = I_n$을 증명하여라.

**Proof**

선형변환의 행렬 표현에 의해 자명하다.

#### 명제2
$n$차원 벡터공간 $V/F$와 $V$의 두 기저 $\beta,\gamma$가 있을 때 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$을 증명하여라.

**Proof**

함수 $f$를 $f := Id_V \circ Id_V$로 정의하자.

선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [f]_\beta = [Id_V]^\beta_\gamma [Id_V]^\gamma_\beta \land [f]_\gamma = [Id_V]^\gamma_\beta [Id_V]^\beta_\gamma $$

이 때, 명제1에 의해 $[f]_\beta = [f]_\gamma = I_n$임으로 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$이다. $\quad {_\blacksquare}$

#### 명제3
모든 `가역행렬(invertible matrix)`은 좌표변환행렬임을 증명하여라.

**Proof**

임의의 가역행렬을 $A \in \mathbb F^{n \times n}$라 하자.   
가역행렬의 모든 열 벡터는 선형 독립임으로 열 벡터의 집합 $\beta=[A_{*1}, \cdots, A_{*n}]$은 $\mathbb F^n$의 기저이다.  
그러면 $A = [Id_{\mathbb F^n}]_\beta^{\epsilon_n}$이다. 즉, $A$는 $\beta$에 대한 좌표를 기준 기저$\epsilon_n$에 대한 좌표로 바꿔주는 좌표변환행렬이다. $\quad {_\blacksquare}$

### 선형변환
이번에는 서로 다른 기저로 표현된 선형변환의 행렬표현이 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 $V$의 두 기저 $\beta,\gamma$ 그리고 $T \in L(V,V)$가 있다고 하자.

$T = Id_V \circ T \circ Id_V$임으로 선형변환의 행렬표현 명제1에 의해 다음이 성립한다.
$$ [T]_\gamma = [Id_V]^\gamma_\beta \circ [T]_\beta \circ [Id_V]^\beta_\gamma $$

기저 $\beta$를 $\gamma$로 바꿔주는 기저변환행렬을 $P$라고 하면 다음과 같다.
$$ [T]_\gamma = P^{-1}[T]_\beta P $$

#### 예시1
$\R^2$의 기준 기저 $\epsilon$과 기저 $\gamma = [ \gamma_1, \gamma_2 ]$가 있을 때, $v \in \R^2$에 대해 다음 관계식들이 성립한다.

$$ \begin{aligned} & [v]_\epsilon = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix} [v]_\gamma \\ \Rightarrow \quad & [v]_\gamma = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix}^{-1} [v]_\epsilon  \end{aligned}  $$
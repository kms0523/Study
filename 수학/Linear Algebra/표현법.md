# 성분표현
## 벡터의 성분표현
유한 차원 벡터 공간 $V / \mathbb F$와 기저 $\beta$가 있을 때, $v = a^i \beta_i \in V$의 $\beta$에 대한 `성분표현(componentwise representation)` $[v]_\beta \in \mathbb F^n$은 다음과 같다.

$$ [v]_\beta := (a^1, \cdots, a^n)$$  

벡터의 성분표현을 `좌표(coordinate)`라고도 한다.

### 명제1
유한 차원 벡터 공간 $V/F$와 기저 $\beta$가 있을 때, $v \in V$에 대해 다음을 증명하여라.
$$ \exist![v]_\beta $$

**proof**

[existence]  
$$ \begin{aligned} & v \in V \\ \Rightarrow \enspace & v = a^i\beta_i, \enspace a_i \in F  \quad {_\blacksquare} \end{aligned} $$

[uniquness]  
$$ \begin{aligned} & a^i\beta_i = b^i \beta_i \\ \Rightarrow \enspace & (a^i - b^i) \beta_i = 0_V \\ \Rightarrow \enspace & a_i-b_i =0_F \\ \Rightarrow \enspace & a_i = b_i \quad {_\blacksquare}  \end{aligned} $$

### 명제2
n차원 벡터공간 $V/ \mathbb F$와 기저 $\beta$ 그리고 함수 $\varphi : V \rightarrow \mathbb F^n \quad s.t. \quad v \mapsto [v]_\beta$가 있을 때 다음을 증명하여라.

$$\varphi \text{ is vector space isomorphism}$$

**Proof**

[$\varphi \in L(V; \mathbb F^n)$]  
$v_1 = a^i\beta_i, v_2 = b^i\beta_i \in V, \enspace c \in \mathbb F$가 있을 때 다음이 성립한다.
$$ \varphi(av_1 + v_2) = [cv_1 + v_2]_\beta = ca_i + b_i = c[v_1]_\beta + [v_2]_\beta = c\varphi(v_1) + \varphi(v_2) $$

[$\varphi$ is bijective]  
$\ker(\varphi) = \{ 0_V \}$이고 $\dim(V) = \dim(\mathbb F^n)$임으로 dimension theorem에 의해 $\varphi$는 bijective이다. $\quad {_\blacksquare}$

## 선형변환의 성분표현
n차원, m차원 벡터공간 $V,W / \mathbb F$와 각각의 기저 $\beta, \gamma$ 그리고 선형변환 $T \in L(V;W)$가 있을때, $v = a^i\beta_i \in V, w = b^i \gamma_i \in W$에 대해서 $T(v)=w$라고 하자.

선형변환에 의해서 $v$가 $w$가 되었음으로, 기저 $\beta,\gamma$를 이용해 표현한 $v$의 성분과 $w$의 성분도 선형관계가 성립한다. 따라서 그 선형관계의 계수를 $C^i_j$라 하면 다음이 만족한다.
$$ b^i = C^i_j a^j $$

이 떄, 선형관계의 계수를 기저 $\beta,\gamma$에 대한 $T$의 성분표현으로 두는 것이 자연스러운 선택임으로 $[T]_\beta^\gamma \in \mathbb F^{mn}$을 다음과 같이 정의한다.
$$ [T]_\beta^\gamma:= (T^1_1, \cdots, T^1_n,T^2_1, \cdots, T^m_n) $$
$$ \text{Where, } b^i = T^i_j a^j $$

### 명제1
차원이 각 각 $n,m,k$인 벡터공간 $V,W,Z/F$와 각 각의 기저 $\alpha,\beta,\gamma$ 그리고 $T_1 \in L(V;W), T_2 \in L(W;Z)$가 있을 때, 다음을 증명하여라.
$$ (T_2 \circ T_1)^i_j = (T_2)^i_k(T_1)^k_j $$

**proof**

$v = a^i\alpha_i \in V, w = b^i \beta_i \in W, z = c^i \gamma_i \in Z$에 대해서 $z = T_2(w), w = T_1(v)$라 하자.

먼저 $w = T_1(v)$를 성분표현으로 나타내면 다음과 같다.
$$ b^i = (T_1)^i_j a^j $$

다음으로 $z = T_2(w)$를 성분표현으로 나타내면 다음과 같다.
$$ c^i = (T_2)^i_j b^j = (T_2)^i_j (T_1)^j_k a^k $$

이 떄, $z = (T_2 \circ T_1)(v)$를 성분표현으로 나타내면 다음과 같다.
$$ c^i = (T_2 \circ T_1)^i_j a^j $$

두 식을 비교하면 다음 관계식을 얻을 수 있다.
$$ (T_2 \circ T_1)^i_j = (T_2)^i_k(T_1)^k_j \quad {_\blacksquare}$$

### 명제2
차원이 각 각 $n,m$인 벡터 공간 $V,W/F$와 각각의 기저 $\beta, \gamma$가 있을 때, 다음과 같이 정의된 함수 $\varphi$가 있다고 하자.
$$ \quad \varphi:L(V; W) \rightarrow \mathbb F^{mn} \quad s.t. \quad T \rightarrow [T]^{\gamma}_{\beta} $$

이 떄, 다음을 증명하여라.
$$ \varphi \text{ is a vectorspace isomorphism} $$

**proof**   

[$\varphi \in L(L(V; W); \mathbb F^{mn})$]  
$a \in \mathbb F, \enspace T_1,T_2 \in L(V; W)$에 대해,
$$ \begin{aligned} \varphi(aT_1 + T_2) &= [aT_1+T_2]^\gamma_\beta \\ &= a[T_1]^\gamma_\beta + [T_2]^\gamma_\beta \\ &= a \varphi(T_1) + \varphi(T_2) \end{aligned}  $$

[bijective]  
$\ker(\varphi) = \{ 0_{L(V;W)} \}$이고 $\dim(L(V;W)) = \dim(\mathbb F^{mn})$임으로 dimension theorem에 의해 $\varphi$는 bijective이다. $\quad {_\blacksquare}$

#### 참고
선형대수가 다루는 대상은 벡터공간이 대상인데, 벡터 공간은 dimension으로 분류가 되고, dimension이 n인 공간은 $F^n$과 동치관계이고 1:1 대응관계이다.

그리고 선형사상은 matrix와 1:1 대응관계이다.



# 행렬표현

## 벡터의 행렬 표현
유한 차원 벡터 공간 $V / \mathbb F$와 기저 $\beta$가 있을 때, $v = a^i \beta_i \in V$의 $\beta$에 대한 행렬 표현 $[v]_\beta \in M_{n \times 1}(\mathbb F)$은 다음과 같다.

$$ [v]_\beta := \begin{bmatrix} a^1 \\ \vdots \\ a^n \end{bmatrix}$$  

벡터의 행렬표현을 `좌표(coordinate)`라고도 하며, $M_{n \times 1}(\mathbb F)$의 원소임으로 `열벡터(column vector)`라고도 한다.

### 명제1
유한 차원 벡터 공간 $V/F$와 기저 $\beta$가 있을 때, $v \in V$에 대해 다음을 증명하여라.
$$ \exist![v]_\beta $$

**proof**

[existence]  
$$ \begin{aligned} & v \in V \\ \Rightarrow \enspace & v = a^i\beta_i, \enspace a_i \in F  \quad {_\blacksquare} \end{aligned} $$

[uniquness]  
$$ \begin{aligned} & a^i\beta_i = b^i \beta_i \\ \Rightarrow \enspace & (a^i - b^i) \beta_i = 0_V \\ \Rightarrow \enspace & a_i-b_i =0_F \\ \Rightarrow \enspace & a_i = b_i \quad {_\blacksquare}  \end{aligned} $$

### 명제2
n차원 벡터공간 $V/ \mathbb F$, $V$의 기저 $\beta$ 그리고 함수 $\varphi : V \rightarrow \mathbb M_{n \times 1}(\mathbb F) \quad s.t. \quad v \mapsto [v]_\beta$가 있을 때 다음을 증명하여라.

$$\varphi \text{ is vector space isomorphism}$$

**Proof**

[$\varphi \in L(V; \mathbb M_{n \times 1}(\mathbb F)$]  
$v_1 = a^i\beta_i, v_2 = b^i\beta_i \in V, \enspace c \in \mathbb F$가 있을 때 다음이 성립한다.
$$ \varphi(av_1 + v_2) = [cv_1 + v_2]_\beta = [ca_i\beta_i + b_i\beta_i]_\beta = c[v_1]_\beta + [v_2]_\beta = c\varphi(v_1) + \varphi(v_2) $$

[$\varphi$ is bijective]  
$\ker(\varphi) = \{ 0_V \}$이고 $\dim(V) = \dim(\mathbb M_{n \times 1}(\mathbb F))$임으로 dimension theorem에 의해 $\varphi$는 bijective이다.$\quad {_\blacksquare}$


## 선형 변환의 행렬 표현
벡터공간 $V,W/F$, 각각의 기저 $\beta = \{v_1,\cdots,v_n\}$, $\gamma = \{w_1,\cdots,w_m\}$, $T \in L(V,W)$이 있을 때 $T$의 행렬 표현 $[T]_\beta^\gamma$은 다음과 같다.  

$$ [T]_\beta^\gamma := \begin{bmatrix} a_{11} & \cdots & a_{1n} \\ \vdots & \ddots & \vdots \\ a_{m1} & \cdots & a_{mn} \\ \end{bmatrix}$$

이 떄, $[T]_\beta^\gamma$의 $i$ 열은 $T(v_i)$의 좌표가 된다.
$$ [T]_\beta^\gamma = \begin{bmatrix} [T(v_1)]_\gamma & \cdots & [T(v_n)]_\gamma \end{bmatrix}$$
$$ \begin{matrix} T(v_1) = a_{11}w_1 + \cdots + a_{m1}w_m \\ \vdots \\ T(v_n) = a_{1n}w_1 + \cdots + a_{mn}w_m \end{matrix} $$

### 명제1
유한 차원 벡터공간 $V,W,Z/F$와 각각의 기저 $\alpha,\beta,\gamma$가 있을 때 다음을 증명하여라.
$$[T_2 \circ T_1]^{\gamma}_{\alpha}=[T_2]^{\gamma}_{\beta}[T_1]^{\beta}_{\alpha}$$

**proof**

$\alpha = \{ v_1 , \cdots, v_n \}, \beta = \{ w_1 , \cdots, w_m \}, \gamma = \{ z_1 , \cdots, z_k \}$라 하자.

$$ \begin{aligned} (T_2 \circ T_1)(v_1) & = (T_2 (T_1(v_1)) \\ & = T_2 \left( \sum_{i=1}^m a_{i1}w_i \right) \\ & = \sum_{i=1}^m a_{i1} \sum_{j=1}^k b_{ji} z_j \\ & = \sum_{j=1}^k \left( \sum_{i=1}^m b_{ji}a_{i1} \right) z_j \quad {_\blacksquare} \end{aligned} $$

#### 참고1
선형변환의 행렬표현은 기저선택에 의존한다.

#### 참고2
$$ \begin{matrix} V & \xrightarrow{T} & W \\ \\ \phi_n \big\downarrow \quad &  & \quad \big\downarrow \phi_m \\ \\ F^n & \xrightarrow{f} & F^m \\ \end{matrix}$$

$\phi_n : V \rightarrow F^n$은 벡터 공간 동형 사상임으로 $\exist! \phi_n^{-1}$이다.

따라서 $f=\phi_m \circ T \circ \phi_n^{-1} \in L(F^n, F^m)$이다.

이 때, $F^n,F^m$의 기준 기저를 $\epsilon_n,\epsilon_m$라 하면 명제1,2에 의해 다음이 성립한다.

$$[f]_{\epsilon_n}^{\epsilon_m} = [\phi_m \circ T \circ \phi_n^{-1}]_{\epsilon_n}^{\epsilon_m}=[\phi_m]_{\gamma}^{\epsilon_m}[T]_{\beta}^{\gamma}[\phi_n^{-1}]_{\epsilon_n}^{\beta} = [T]_{\beta}^{\gamma}$$

### 명제 2
벡터공간 $V,W/F$, 각각의 기저 $\beta = \{\beta_1,\cdots,\beta_n\}$, $\gamma = \{\gamma_1,\cdots,\gamma_m\}$, $T \in L(V,W)$이 있을 때 다음을 증명하여라.
$$ v \in V \Rightarrow [T(v)]_\gamma = [T]_\beta^\gamma [v]_\beta $$

**Proof**

$v = a_i\beta_i, T(v) = b_j\gamma_j, [T]_\beta^\gamma = P_{ij}$라 할 때, $b_i = P_{ij}a_j$임을 보이자.

$$ b_i = [T(v)]_\gamma = a_i[T(\beta_i)]_\gamma = a_i P_{i*} = P_{ij}a_j \quad {_\blacksquare} $$


### 정리1
벡터 공간 $V,W/F$와 각각의 기저 $\beta = \{ v_1, \cdots, v_n \}, \gamma = \{ w_1, \cdots, w_m \}$가 있을 때, 다음과 같이 정의된 함수 $\Phi$가 전단사 함수임을 증명하여라.

$$ \text{Define} \quad \Phi:L(V,W) \rightarrow F^{m \times n} \quad s.t. \quad T \rightarrow [T]^{\gamma}_{\beta} $$

**proof**   
[proof of injective]

$T_1,T_2 \in L(V,W)$에 대해,

$$ \begin{aligned} & \Phi(T_1) = \Phi(T_2) \\ \Leftrightarrow \enspace & T_1(v_i) = T_2(v_i), \quad i = 1, \cdots, n \\ \Leftrightarrow \enspace & \forall v \in V, \quad T_1(v) = T_2(v) \\ \Leftrightarrow \enspace & T_1 = T_2 \quad {_\blacksquare} \end{aligned}  $$

[proof of surjective]  


$m \in F^{m \times n}$에 대해  $T \in L(V,W)$가 $[T(v_i)]_\gamma =m_{i,*}$를 만족한다고 정의하면, $T$는 잘 정의되고 항상 존재한다.  $\quad {_\blacksquare}$  

#### 참고
선형대수가 다루는 대상은 벡터공간이 대상인데, 벡터 공간은 dimension으로 분류가 되고, dimension이 n인 공간은 $F^n$과 동치관계이고 1:1 대응관계이다.

그리고 선형사상은 matrix와 1:1 대응관계이다.

### 예시1  
벡터공간 $V/F, F^n$과 $V$의 기저 $\beta=\{v_1,\cdots,v_n\}$, 기준기저 $\epsilon = \{e_1,\cdots,e_n\}$이 있을때 $T \in L(V,F^n)$를 다음과 같이 정의하자.

$$ T:V \rightarrow F^n \quad s.t. \quad v \mapsto [v]_\beta $$  

이 때, $[T]_\beta^\epsilon$는 다음과 같다.
$$T(v_1) = e_1, \cdots , T(v_n) = e_n \\\ [T]_\beta^\epsilon = \begin{bmatrix} [T(v_1)]_\epsilon & \cdots & [T(v_n)]_\epsilon \end{bmatrix} = I_n$$

### 예시2
벡터공간 $\R^{2 \times 2}$과 기준 기저 $\epsilon=\{e_{11},e_{12},e_{21},e_{22} \}$이 있을때 $T \in L(\R^{2 \times 2},\R^{2 \times 2})$를 다음과 같이 정의하자.

$$ T:\R^{2 \times 2} \rightarrow \R^{2 \times 2} \quad s.t. \quad \forall A \in \R^{2 \times 2}, \quad T(A) = A^T $$

  
이 때 $[T]_\epsilon^\epsilon$는 다음과 같다.

$$T(e_{ij}) = e_{ji} \\\ [T]_\epsilon^\epsilon = \begin{bmatrix} [T(e_{11})]_\epsilon & [T(e_{12})]_\epsilon & [T(e_{21})]_\epsilon & [T(e_{22})] \epsilon \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \\ \end{bmatrix}$$

## 기저간의 관계
벡터공간의 기저는 유일하지 않다. 따라서 이번에는 서로 다른 기저들간의 다양한 관계에 대해 알아보자.

### 기저
이번에는 서로 다른 두 기저가 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$가 있다고 하자. $\gamma_i \in V$이기 때문에 $\beta$로 $\gamma$를 표현하면 다음과 같다.

$$ \gamma_i = \beta_j P^j_i $$
$$ \gamma = P^T\beta $$

$$ \begin{gathered} \text{Where, } P = \begin{bmatrix} [\gamma_1]_{\beta} & \cdots & [\gamma_n]_{\beta} \end{bmatrix} \\ \gamma = \begin{bmatrix} \gamma_1 \\ \vdots \\ \gamma_n \end{bmatrix}, \quad \beta = \begin{bmatrix} \beta_1 \\ \vdots \\ \beta_n \end{bmatrix} \end{gathered}  $$

행렬 $P^T$에 의해서 $\beta$가 $\gamma$로 바뀌었음으로, $P$를 `기저변환행렬(basis change matrix)`이라고 한다.

$\beta$를 $\gamma$로 바꾸는 기저변환행렬은 항등함수 $Id_V : V \rightarrow V \quad s.t. \quad v \mapsto v$를 $\gamma$와 $\beta$로 행렬표현 한것과 동일하다.
$$ P = [Id_V]_\gamma^\beta $$

### 좌표
이번에는 서로 다른 기저로 표현된 좌표가 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$ 그리고 $v \in V$가 있다고 하자. $v= Id_V(v)$임으로 선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [v]_\gamma = [Id_V]_\beta^\gamma[v]_\beta $$

$[Id_V]_\beta^\gamma$에 의해서 $v$의 $\beta$에 대한 좌표가 $\gamma$에 대한 좌표로 변환 되었음으로, $[Id_V]_\beta^\gamma$를 `좌표변환행렬(coordinate change matrix)`이라고 한다.

$\beta$에 의한 좌표를 $\gamma$에 의한 좌표로 바꾸는 좌표변환행렬은 $\beta$를 $\gamma$로 바꾸는 기저변환행렬의 역행렬이다.
$$ [Id_V]_\beta^\gamma = P^{-1} $$

이는 명제2에서 증명한다.

따라서 서로 다른 기저로 표현된 좌표는 다음과 같은 관계를 만족한다.
$$ [v]_\gamma = P^{-1} [v]_\beta $$
$$ \text{Where, } P \text{ is a change of basis matrix } \beta \rightarrow \gamma $$

#### 명제1
$n$차원 벡터공간 $V/F$와 $V$의 기저 $\beta$가 있을 때, $[Id_V]_\beta = I_n$을 증명하여라.

**Proof**

선형변환의 행렬 표현에 의해 자명하다.

#### 명제2
$n$차원 벡터공간 $V/F$와 $V$의 두 기저 $\beta,\gamma$가 있을 때 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$을 증명하여라.

**Proof**

함수 $f$를 $f := Id_V \circ Id_V$로 정의하자.

선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [f]_\beta = [Id_V]^\beta_\gamma [Id_V]^\gamma_\beta \land [f]_\gamma = [Id_V]^\gamma_\beta [Id_V]^\beta_\gamma $$

이 때, 명제1에 의해 $[f]_\beta = [f]_\gamma = I_n$임으로 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$이다. $\quad {_\blacksquare}$

#### 명제3
모든 `가역행렬(invertible matrix)`은 좌표변환행렬임을 증명하여라.

**Proof**

임의의 가역행렬을 $A \in \mathbb F^{n \times n}$라 하자.   
가역행렬의 모든 열 벡터는 선형 독립임으로 열 벡터의 집합 $\beta=[A_{*1}, \cdots, A_{*n}]$은 $\mathbb F^n$의 기저이다.  
그러면 $A = [Id_{\mathbb F^n}]_\beta^{\epsilon_n}$이다. 즉, $A$는 $\beta$에 대한 좌표를 기준 기저$\epsilon_n$에 대한 좌표로 바꿔주는 좌표변환행렬이다. $\quad {_\blacksquare}$

### 선형변환
이번에는 서로 다른 기저로 표현된 선형변환의 행렬표현이 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 $V$의 두 기저 $\beta,\gamma$ 그리고 $T \in L(V,V)$가 있다고 하자.

$T = Id_V \circ T \circ Id_V$임으로 선형변환의 행렬표현 명제1에 의해 다음이 성립한다.
$$ [T]_\gamma = [Id_V]^\gamma_\beta \circ [T]_\beta \circ [Id_V]^\beta_\gamma $$

기저 $\beta$를 $\gamma$로 바꿔주는 기저변환행렬을 $P$라고 하면 다음과 같다.
$$ [T]_\gamma = P^{-1}[T]_\beta P $$

#### 예시1
$\R^2$의 기준 기저 $\epsilon$과 기저 $\gamma = [ \gamma_1, \gamma_2 ]$가 있을 때, $v \in \R^2$에 대해 다음 관계식들이 성립한다.

$$ \begin{aligned} & [v]_\epsilon = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix} [v]_\gamma \\ \Rightarrow \quad & [v]_\gamma = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix}^{-1} [v]_\epsilon  \end{aligned}  $$
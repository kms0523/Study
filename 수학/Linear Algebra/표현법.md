# 성분표현
## 벡터의 성분표현
유한 차원 벡터 공간 $V / \mathbb F$와 기저 $\beta$가 있을 때, $v = a^i \beta_i \in V$의 $\beta$에 대한 `성분표현(componentwise representation)` $[v]_\beta \in \mathbb F^n$은 다음과 같다.

$$ [v]_\beta := (a^1, \cdots, a^n)$$  

벡터의 성분표현을 `좌표(coordinate)`라고도 한다.

### 명제1
유한 차원 벡터 공간 $V/F$와 기저 $\beta$가 있을 때, $v \in V$에 대해 다음을 증명하여라.
$$ \exist![v]_\beta $$

**proof**

[existence]  
$$ \begin{aligned} & v \in V \\ \Rightarrow \enspace & v = a^i\beta_i, \enspace a_i \in F  \quad {_\blacksquare} \end{aligned} $$

[uniquness]  
$$ \begin{aligned} & a^i\beta_i = b^i \beta_i \\ \Rightarrow \enspace & (a^i - b^i) \beta_i = 0_V \\ \Rightarrow \enspace & a_i-b_i =0_F \\ \Rightarrow \enspace & a_i = b_i \quad {_\blacksquare}  \end{aligned} $$

### 명제2
n차원 벡터공간 $V/ \mathbb F$, $V$의 기저 $\beta$ 그리고 함수 $\varphi : V \rightarrow \mathbb F^n \quad s.t. \quad v \mapsto [v]_\beta$가 있을 때 다음을 증명하여라.

$$\varphi \text{ is vector space isomorphism}$$

**Proof**

[$\varphi \in L(V; F^n)$]  
$v_1 = a^i\beta_i, v_2 = b^i\beta_i \in V, \enspace c \in \mathbb F$가 있을 때 다음이 성립한다.
$$ \varphi(cv_1 + v_2) = [cv_1 + v_2]_\beta = ca^i + b^i = c[v_1]_\beta + [v_2]_\beta = c\varphi(v_1) + \varphi(v_2) $$

[$\varphi$ is bijective]  
$\ker(\varphi) = \{ 0_V \}$이고 $\dim(V) = \dim(\mathbb M_{n \times 1}(\mathbb F))$임으로 dimension theorem에 의해 $\varphi$는 bijective이다.$\quad {_\blacksquare}$

## 선형변환의 성분표현
$n$차원, $m$차원 벡터공간 $V,W / \mathbb F$와 각각의 기저 $\beta, \gamma$ 그리고 선형변환 $T \in L(V;W)$가 있을때, $v = a^i\beta_i \in V, w = b^i \gamma_i \in W$에 대해서 $T(v)=w$라고 하면 다음이 성립한다.
$$ \begin{aligned} & [w]_\gamma = [T(v)]_\gamma = a^i [T(\beta_i)]_\gamma \\ \Rightarrow \enspace & (b^1, \cdots b^m) = a^1(T^1_1, \cdots, T^m_1) + \cdots a^n(T^1_n, \cdots, T^m_n) \\ \Rightarrow \enspace & b^i = T^i_j a^j \end{aligned} $$
$$ \text{Where, } [T(\beta_i)]_\gamma = ( T^1_i, \cdots, T^m_i ) $$

이 떄, $T^i_j$를 $\beta,\gamma$에 대한 $T$의 성분표현으로 두는 것이 자연스러운 선택임으로 $[T]_\beta^\gamma \in \mathbb F^{mn}$을 다음과 같이 정의한다.
$$ \begin{aligned} [T]_\beta^\gamma &:= (T^1_1, \cdots, T^m_1,T^1_2, \cdots, T^m_n) \\ & = \bigcup_{i=1}^n [T(\beta_i)]_\gamma \end{aligned} $$

따라서, 선형변환의 성분표현은 기저선택에 의존한다.

### 명제1
차원이 각 각 $n,m,k$인 벡터공간 $V,W,Z/F$와 각 각의 기저 $\alpha,\beta,\gamma$ 그리고 $T_1 \in L(V;W), T_2 \in L(W;Z)$가 있을때, 다음을 증명하여라.
$$ (T_2 \circ T_1)^i_j = (T_2)^i_l(T_1)^l_j $$

**proof**

$$ \begin{aligned} (T_2 \circ T)^i_j &= ([(T_2 \circ T_1)(\alpha_j)]_\gamma)^i \\ &= ([T_1(\alpha_j)]_\beta)^l ([T_2(\beta_l)]_\gamma)^i \\ &= (T_1)^l_j(T_2)^i_l \quad {_\blacksquare} \end{aligned} $$

### 명제2
차원이 각 각 $n,m$인 벡터 공간 $V,W/F$와 각각의 기저 $\beta, \gamma$가 있을 때, 다음과 같이 정의된 함수 $\varphi$가 있다고 하자.
$$ \quad \varphi:L(V; W) \rightarrow \mathbb F^{mn} \quad s.t. \quad T \rightarrow [T]^{\gamma}_{\beta} $$

이 떄, 다음을 증명하여라.
$$ \varphi \text{ is a vectorspace isomorphism} $$

**proof**   

[$\varphi \in L(L(V; W); \mathbb F^{mn})$]  
$a \in \mathbb F, \enspace T_1,T_2 \in L(V; W)$에 대해,
$$ \begin{aligned} \varphi(aT_1 + T_2) &= [aT_1+T_2]^\gamma_\beta \\ &= \bigcup_{i=1}^n [(aT_1 + T_2)(\beta_i)]_\gamma \\ &= a \bigcup_{i=1}^n [T_1]_\gamma + \bigcup_{i=1}^n [T_2]_\gamma \\ &= a[T_1]^\gamma_\beta + [T_2]^\gamma_\beta \\ &= a \varphi(T_1) + \varphi(T_2) \end{aligned}  $$

[bijective]  
$\ker(\varphi) = \{ 0_{L(V;W)} \}$이고 $\dim(L(V;W)) = \dim(\mathbb F^{mn})$임으로 dimension theorem에 의해 $\varphi$는 bijective이다. $\quad {_\blacksquare}$

### 명제3
차원이 각 각 $n,m$인 벡터 공간 $V,W/F$와 각각의 기저 $\beta, \gamma$가 있을 때, 다음과 같이 정의된 함수 $\varphi_n,\varphi_m$가 있다고 하자.
$$\varphi_n : V \rightarrow \mathbb F^n \quad s.t. \quad v \mapsto [v]_\beta \\ \varphi_m : W \rightarrow \mathbb F^m \quad s.t. \quad w \mapsto [w]_\gamma$$

이 때, $f \in L(\mathbb F^n; \mathbb F^m), \enspace T \in L(V; W)$에 대해 다음을 증명하여라.
$$ f^i_j = T^i_j $$
$$ \text{Where, } f^i_j = \big([f((\epsilon_n)_j)]_{\epsilon_m} \big)^i, \enspace T^i_j = ([T(\beta_j)]_\gamma)^i $$

**Proof**

$\varphi_n : V \rightarrow \mathbb F^n$은 vectorspace isomorphism임으로 $\exist! \varphi_n^{-1}$이다. 

따라서 $f=\varphi_m \circ T \circ \varphi_n^{-1}$이다.

이 때, $\mathbb F^n,\mathbb F^m$의 기준 기저를 $\epsilon_n,\epsilon_m$라 하면 명제1에 의해 다음이 성립한다.
$$ \begin{aligned} f^i_j &= (\varphi_m)^i_k T^k_l (\varphi_n^{-1})^l_j \\ &= \delta^i_k T^k_l \delta^l_j \\ &= T^i_j \end{aligned} $$

$$ \text{Where, } (\varphi_n^{-1})^i_j = \big( [\varphi_n^{-1}((\epsilon_n)_j)]_\beta \big)^i, \enspace (\varphi_m)^i_j = \big( [\varphi_m(\gamma_j)]_{\epsilon_m} \big)^i $$

#### 참고
위 관계를 그림으로 나타내면 다음과 같다.

$$ \begin{CD} V @>T>> W \\ @V{\varphi_n}VV @VV{\varphi_m}V \\ \mathbb F^n @>>f> \mathbb F^m  \end{CD} $$

# 행렬표현
$n$차원, $m$차원 벡터공간 $V,W / \mathbb F$와 각각의 기저 $\beta, \gamma$ 그리고 $T \in L(V;W)$가 있다고 하자.

$v = a^i\beta_i \in V, w = b^i \gamma_i \in W$가 있을 때, $w=T(v)$라 하자.

이때, 다음과 같이 $[v]_\beta, [w]_\gamma$를 $M _{n \times 1}(\mathbb F)$ 행렬 즉, `열벡터(column vector)`로 $[T]_\beta^\gamma$를 $M _{m \times n}(\mathbb F)$ 행렬로 나타낸다고 하자.
$$ [v]_\beta := \begin{bmatrix} a^1 \\ \vdots \\ a^n \end{bmatrix}, \enspace [w]_\beta := \begin{bmatrix} b^1 \\ \vdots \\ b^n \end{bmatrix}, \enspace [T]_\beta^\gamma := \begin{bmatrix} T^1_1 & \cdots & T^1_n \\ \vdots & \ddots & \vdots \\ T^m_1 & \cdots & T^m_n \\ \end{bmatrix} $$  

그러면 $b^i = T^i_j a^j$임으로 다음이 성립한다.
$$ [w]_\gamma = [T]_\beta^\gamma [v]_\beta $$

이 떄, $[T]_\beta^\gamma$는 다음과 같이 표현할 수 있다.
$$ [T]_\beta^\gamma = \begin{bmatrix} [T(\beta_1)]_\gamma & \cdots & [T(\beta_n)]_\gamma \end{bmatrix}$$

그리고 성분표현의 명제들을 행렬표현으로 바꿔서 표현하면 다음과 같다.
$$ \begin{array}{c c} \text{명제1} & [T_2 \circ T_1]^\gamma_\alpha = [T_2]^\gamma_\beta[T_1]^\beta_\alpha \\ \\ \text{명제3} & [f]^{\epsilon_m}_{\epsilon_n} = [T]_\beta^\gamma \end{array} $$

### 예시
벡터공간 $M_{2 \times 2}(\R)$과 기준 기저 $\epsilon=\{e_{11},e_{12},e_{21},e_{22} \}$이 있을때 $T \in L(M_{2 \times 2}(\R);M_{2 \times 2}(\R))$를 다음과 같이 정의하자.
$$ T:M_{2 \times 2}(\R) \rightarrow M_{2 \times 2}(\R) \quad s.t. \quad A \mapsto A^T $$
  
이 때 $[T]_\epsilon$는 다음과 같다.

$$T(e_{ij}) = e_{ji} \\\ [T]_\epsilon = \begin{bmatrix} [T(e_{11})]_\epsilon & [T(e_{12})]_\epsilon & [T(e_{21})]_\epsilon & [T(e_{22})] \epsilon \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \\ \end{bmatrix}$$

# 기저간의 관계
벡터공간의 기저는 유일하지 않다. 따라서 이번에는 서로 다른 기저들간의 다양한 관계에 대해 알아보자.

### 기저
이번에는 서로 다른 두 기저가 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$가 있다고 하자. $\gamma_i \in V$이기 때문에 $\beta$로 $\gamma$를 표현하면 다음과 같다.

$$ \gamma_i = \beta_j P^j_i $$
$$ \gamma = P^T\beta $$

$$ \begin{gathered} \text{Where, } P = \begin{bmatrix} [\gamma_1]_{\beta} & \cdots & [\gamma_n]_{\beta} \end{bmatrix} \\ \gamma = \begin{bmatrix} \gamma_1 \\ \vdots \\ \gamma_n \end{bmatrix}, \quad \beta = \begin{bmatrix} \beta_1 \\ \vdots \\ \beta_n \end{bmatrix} \end{gathered}  $$

행렬 $P^T$에 의해서 $\beta$가 $\gamma$로 바뀌었음으로, $P$를 `기저변환행렬(basis change matrix)`이라고 한다.

$\beta$를 $\gamma$로 바꾸는 기저변환행렬은 항등함수 $Id_V : V \rightarrow V \quad s.t. \quad v \mapsto v$를 $\gamma$와 $\beta$로 행렬표현 한것과 동일하다.
$$ P = [Id_V]_\gamma^\beta $$

### 좌표
이번에는 서로 다른 기저로 표현된 좌표가 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 두 기저 $\beta, \gamma$ 그리고 $v \in V$가 있다고 하자. $v= Id_V(v)$임으로 선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [v]_\gamma = [Id_V]_\beta^\gamma[v]_\beta $$

$[Id_V]_\beta^\gamma$에 의해서 $v$의 $\beta$에 대한 좌표가 $\gamma$에 대한 좌표로 변환 되었음으로, $[Id_V]_\beta^\gamma$를 `좌표변환행렬(coordinate change matrix)`이라고 한다.

$\beta$에 의한 좌표를 $\gamma$에 의한 좌표로 바꾸는 좌표변환행렬은 $\beta$를 $\gamma$로 바꾸는 기저변환행렬의 역행렬이다.
$$ [Id_V]_\beta^\gamma = P^{-1} $$

이는 명제2에서 증명한다.

따라서 서로 다른 기저로 표현된 좌표는 다음과 같은 관계를 만족한다.
$$ [v]_\gamma = P^{-1} [v]_\beta $$
$$ \text{Where, } P \text{ is a change of basis matrix } \beta \rightarrow \gamma $$

#### 명제1
$n$차원 벡터공간 $V/F$와 $V$의 기저 $\beta$가 있을 때, $[Id_V]_\beta = I_n$을 증명하여라.

**Proof**

선형변환의 행렬 표현에 의해 자명하다.

#### 명제2
$n$차원 벡터공간 $V/F$와 $V$의 두 기저 $\beta,\gamma$가 있을 때 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$을 증명하여라.

**Proof**

함수 $f$를 $f := Id_V \circ Id_V$로 정의하자.

선형변환의 행렬표현 명제2에 의해 다음이 성립한다.
$$ [f]_\beta = [Id_V]^\beta_\gamma [Id_V]^\gamma_\beta \land [f]_\gamma = [Id_V]^\gamma_\beta [Id_V]^\beta_\gamma $$

이 때, 명제1에 의해 $[f]_\beta = [f]_\gamma = I_n$임으로 $[Id_V]^\gamma_\beta = \left( [Id_V]^\beta_\gamma \right)^{-1}$이다. $\quad {_\blacksquare}$

#### 명제3
모든 `가역행렬(invertible matrix)`은 좌표변환행렬임을 증명하여라.

**Proof**

임의의 가역행렬을 $A \in \mathbb F^{n \times n}$라 하자.   
가역행렬의 모든 열 벡터는 선형 독립임으로 열 벡터의 집합 $\beta=[A_{*1}, \cdots, A_{*n}]$은 $\mathbb F^n$의 기저이다.  
그러면 $A = [Id_{\mathbb F^n}]_\beta^{\epsilon_n}$이다. 즉, $A$는 $\beta$에 대한 좌표를 기준 기저$\epsilon_n$에 대한 좌표로 바꿔주는 좌표변환행렬이다. $\quad {_\blacksquare}$

### 선형변환
이번에는 서로 다른 기저로 표현된 선형변환의 행렬표현이 어떤 관계를 갖는지 알아보자.

$n$차원 벡터공간 $V/ \mathbb F$와 $V$의 두 기저 $\beta,\gamma$ 그리고 $T \in L(V,V)$가 있다고 하자.

$T = Id_V \circ T \circ Id_V$임으로 선형변환의 행렬표현 명제1에 의해 다음이 성립한다.
$$ [T]_\gamma = [Id_V]^\gamma_\beta \circ [T]_\beta \circ [Id_V]^\beta_\gamma $$

기저 $\beta$를 $\gamma$로 바꿔주는 기저변환행렬을 $P$라고 하면 다음과 같다.
$$ [T]_\gamma = P^{-1}[T]_\beta P $$

#### 예시1
$\R^2$의 기준 기저 $\epsilon$과 기저 $\gamma = [ \gamma_1, \gamma_2 ]$가 있을 때, $v \in \R^2$에 대해 다음 관계식들이 성립한다.

$$ \begin{aligned} & [v]_\epsilon = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix} [v]_\gamma \\ \Rightarrow \quad & [v]_\gamma = \begin{bmatrix} \gamma_1 &  \gamma_2 \end{bmatrix}^{-1} [v]_\epsilon  \end{aligned}  $$